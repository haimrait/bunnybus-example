# ingestion-pipeline-shared
Components that are shared between the ingestion pipeline plugins and services.

![Test](https://github.com/tenna-llc/ingestion-pipeline-shared/workflows/Test/badge.svg)

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->


- [Installation](#installation)
- [Prerequisites](#prerequisites)
- [Dependencies](#dependencies)
  - [Installing Dependencies](#installing-dependencies)
- [API](#api)
- [Testing](#testing)
  - [Prequisite](#prequisite)
    - [Starting Docker](#starting-docker)
    - [Stopping Docker](#stopping-docker)
  - [Running the test suite](#running-the-test-suite)
  - [Linting](#linting)
- [Documentation](#documentation)
  - [Updating TOC for Documentation](#updating-toc-for-documentation)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# Installation
```
npm login --registry=https://npm.pkg.github.com
Username: <your github username>
Password: <your github api token>
Email: (this IS public) <your email>
Logged in as <your github username> on https://npm.pkg.github.com/.
npm i @tenna-llc/ingestion-pipeline-shared
```

# Prerequisites

* `nodejs@v12.x`

* `.npmrc`
```
registry=https://npm.pkg.github.com/tenna-llc
```

# Dependencies


## Installing Dependencies
Install dependencies declared from [`package.json`](package.json).

```
npm i
```

# API
API [documentation](API.md)

# Testing

## Prequisite
RabbitMQ must be locally (`127.0..0.1`) available in order for the test to succeed for the test involving
RabbitMQ integration.

### Starting Docker

```bash
npm run start-docker-rmq
```

### Stopping Docker
```bash
npm run stop-docker-rmq
```

## Running the test suite
Install dependencies and run the test.

```bash
npm test
```

## Linting
Using [`eslint`](https://eslint.org/) to code cop.

```bash
npm run lint
```

# Documentation

## Updating TOC for Documentation
Run [`doctoc`](https://github.com/thlorenz/doctoc)

```bash
npm run doctoc
```


